/** noUislider 2.0
 ** No copyrights or licenses. Do what you like. Feel free to share this code, or build upon it.
 ** @author:		@leongersen
 ** @repository:	https://github.com/leongersen/noUiSlider
 **/
(function(a){function b(a){var b=a.changedTouches,c=b[0],d="";switch(a.type){case"touchstart":d="mousedown";break;case"touchmove":d="mousemove";break;case"touchend":d="mouseup";break;default:return}var e=document.createEvent("MouseEvent");e.initMouseEvent(d,true,true,window,1,c.screenX,c.screenY,c.clientX,c.clientY,false,false,false,false,0,null);c.target.dispatchEvent(e);a.preventDefault()}a.fn.left=function(){return parseInt(this.css("left"))};a.fn.noUiSlider=function(c,d){function f(a){var b=a.data("settings");var c=a.children(".noUi-lowerHandle");var d=a.children(".noUi-upperHandle");var e=a.children(".noUi-midBar");if(b.connect!==false){if(c){if(d){e.css("left",c.left())}else{if(b.connect=="lower"){e.css("right",a.innerWidth()-c.left())}else{e.css({left:c.left(),right:0})}}}if(d){if(c){e.css("right",a.innerWidth()-d.left())}else{if(b.connect=="lower"){e.css("right",a.innerWidth()-d.left())}else{e.css({left:d.left(),right:0})}}}}var f=new Array;if(c){f[0]=j(b.scale[0],b.scale[1],c.left(),a.innerWidth())}else{f[0]=false}if(d){f[1]=j(b.scale[0],b.scale[1],d.left(),a.innerWidth())}else{f[1]=false}a.data("values",f)}function g(a){return a<0}function h(a){return a*-1}function i(a,b,c,d){if(g(a)){c=c+h(a);b=b+h(a)}else{c=c-a;b=b-a}return c*d/b}function j(a,b,c,d){if(g(a)){b=b+h(a)}else{b=b-a}return c*b/d+a}var e={knobs:2,connect:true,scale:[0,100],start:[25,75],to:0,knob:0,change:"",end:"",step:false,save:false};var k={init:function(){return this.each(function(){var c=a(this);var d=e;c.data("settings",d);var g=a('<div class="noUi-handle noUi-lowerHandle"><div></div></div>');var h=a('<div class="noUi-handle noUi-upperHandle"><div></div></div>');var j=a('<div class="noUi-midBar"></div>');var k=false;if(d.knobs===1){if(d.connect===true||d.connect==="lower"){g=false;h=h.appendTo(c);j=j.insertBefore(h);k=h}else{if(d.connect==="upper"){g=g.appendTo(c);j=j.insertAfter(g);h=false;k=g}else{g=g.appendTo(c);j=false;h=false;k=g}}}else{k=g.add(h).appendTo(c);g=k.filter(".noUi-lowerHandle");h=k.filter(".noUi-upperHandle");if(d.connect===true){j=j.insertAfter(g)}else{j=false}}c.data("knobs",k).css("position","relative").children().css("position","absolute");if(j){j.css({left:0,right:0})}k.each(function(e){a(this).css({left:i(d.scale[0],d.scale[1],d.start[e],c.innerWidth()),zIndex:e+1});if(document.addEventListener){this.addEventListener("touchstart",b,true);this.addEventListener("touchmove",b,true);this.addEventListener("touchend",b,true);this.addEventListener("touchcancel",b,true)}});f(c);k.children().bind("mousedown.noUiSlider",function(b){var e=a(this).parent();a(this).addClass("noUi-activeHandle");b.preventDefault();a("body").bind("selectstart.noUiSlider",function(){return false});a(document).bind("mousemove.noUiSlider",function(a){var b=a.pageX-Math.round(c.offset().left);var j=e.left();var k=false;if(e.hasClass("noUi-upperHandle")){if(g&&b<g.left()){b=g.left();k=true}}if(e.hasClass("noUi-lowerHandle")){if(h&&b>h.left()){b=h.left();k=true}}if(b>c.innerWidth()){b=c.innerWidth();k=true}else if(b<0){b=0;k=true}if(d.step&&!k){if(Math.abs(j-b)>=i(d.scale[0],d.scale[1],d.step,c.innerWidth())){k=true}}else{k=true}if(j==b){k=false}if(k){e.css("left",b);if(e.hasClass("noUi-upperHandle")&&e.left()==0||e.hasClass("noUi-lowerHandle")&&e.left()==c.innerWidth()){e.css("zIndex",parseInt(e.css("zIndex"))+2)}f(c);if(typeof d.change=="function"){d.change.call(c,"slide")}}});a(document).bind("mouseup.noUiSlider",function(){a(".noUi-activeHandle").removeClass("noUi-activeHandle");a(document).unbind("mousemove.noUiSlider").unbind("mouseup.noUiSlider");a("body").unbind("selectstart.noUiSlider");if(typeof d.end=="function"){d.end.call(c,"slide")}})});c.click(function(a){if(g&&h){var b=a.pageX-c.offset().left;if(b<(g.left()+h.left())/2){g.css("left",b)}else{h.css("left",b)}}else{k.css("left",a.pageX-c.offset().left)}f(c);if(typeof d.change=="function"){d.change.call(c,"click")}if(typeof d.end=="function"){d.end.call(c,"click")}}).find("*:not(.noUi-midBar)").click(function(){return false})})},move:function(){var b=a(this);var c=b.data("settings");var d=b.data("knobs");var g=d.filter(".noUi-lowerHandle");var h=d.filter(".noUi-upperHandle");var j=e;if(j.scale){c.scale=j.scale;if(j.save){b.data("settings",c)}}var k=i(c.scale[0],c.scale[1],j.to,b.innerWidth());var l;if(j.knob==="upper"||j.knob==1){if(g&&k<g.left()){k=g.left()}l=h}else if(j.knob==="lower"||j.knob==0){if(h&&k>h.left()){k=h.left()}l=g}if(k>b.innerWidth()){k=b.innerWidth()}else if(k<0){k=0}l.css("left",k);if(l.hasClass("noUi-upperHandle")&&l.left()==0||l.hasClass("noUi-lowerHandle")&&l.left()==b.innerWidth()){l.css("zIndex",parseInt(l.css("zIndex"))+2)}f(b);if(typeof c.change=="function"){c.change.call(b,"move")}if(typeof c.end=="function"){c.end.call(b,"move")}},value:function(){var b=a(this);var c=b.data("settings");var d=l;var e=b.data("values");if(typeof d!="undefined"&&typeof d.scale!="undefined"&&!(d.scale[0]==c.scale[0]&&d.scale[1]==c.scale[1])){if(e[0]){e[0]=i(d.scale[0],d.scale[1],j(c.scale[0],c.scale[1],e[0],b.innerWidth()),b.innerWidth())}if(e[1]){e[1]=i(d.scale[0],d.scale[1],j(c.scale[0],c.scale[1],e[1],b.innerWidth()),b.innerWidth())}if(d.save){c.scale=d.scale;b.data("settings",c);a(this).data("values",e)}}if(e[0]){e[0]=Math.round(e[0])}if(e[1]){e[1]=Math.round(e[1])}return e}};var l=d;var d=a.extend(e,d);if(k[c]){return k[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return k.init.apply(this,arguments)}else{a.error("No such method: "+c)}}})(jQuery)